# 后端配置说明

## 环境变量配置

在 `backend` 目录下创建 `.env` 文件，包含以下配置：

```bash
# 高德地图API配置
# 请访问 https://lbs.amap.com/ 申请API密钥
GAODE_API_KEY=your_gaode_api_key_here

# MCP服务器配置（可选）
MCP_SERVER_URL=

# 请求超时设置（秒）
REQUEST_TIMEOUT_SECONDS=10
```

## 获取高德地图API密钥

1. 访问 [高德开放平台](https://lbs.amap.com/)
2. 注册账号并登录
3. 创建应用，选择"Web服务"类型
4. 获取API Key

## 常见问题解决

### 1. 景点推荐为空

**可能原因：**
- API密钥未设置或无效
- 城市名称不正确
- 网络连接问题

**解决方法：**
- 检查 `.env` 文件中的 `GAODE_API_KEY` 是否正确设置
- 确保城市名称使用中文（如：北京、上海、广州）
- 检查网络连接和防火墙设置

### 2. API调用失败

**可能原因：**
- API密钥超出使用限制
- 请求参数错误
- 高德服务暂时不可用

**解决方法：**
- 检查API使用量是否超限
- 查看后端日志获取详细错误信息
- 稍后重试

### 3. 日志查看

后端会输出详细的日志信息，包括：
- API请求和响应状态
- POI搜索过程
- 错误详情

如果遇到问题，请查看控制台输出的日志信息。

## 测试建议

1. 使用常见城市名称（如：北京、上海、杭州）
2. 选择1-3天的短行程进行测试
3. 尝试不同的兴趣组合（如：history,food 或 nature,shopping） 